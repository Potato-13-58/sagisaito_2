<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ•™è‚²ç”¨ãƒ»ç–‘ä¼¼è©æ¬ºã‚µã‚¤ãƒˆãƒ‡ãƒ¢ - é™å®šå…¬é–‹</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; font-family: 'Segoe UI', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´', Arial, sans-serif; background: linear-gradient(120deg, #f9fafc 0%, #abccff 100%);}
    header { background: #3856db; color: white; padding: 2rem 0 1rem 48px; font-size: 2.2rem; }
    .hero { padding: 3rem 7vw; background: #fff4eb; border-radius: 0 0 3rem 3rem; margin-bottom:2rem; min-height: 280px; box-shadow: 0 8px 18px rgba(34,63,130,0.09);}
    h1 { font-size: 2.1rem; }
    .note { background: #ffeeea; padding: .7em; border-radius: 8px; margin-bottom: 1rem;}
    .company-info { background: #fbfbfb; padding: 1.5rem; border-radius: 1.8rem; margin: 1.7rem 0; }
    #notifyBanner { position: fixed; top: 24px; left: 24px; background: #fff; border: 1.5px solid #c2c2f7; border-radius: 13px; z-index: 90; padding: 1.3em 1.6em 1.4em 2.8em; color: #3259af; min-width: 280px; font-size: 1.12rem; opacity: 0; pointer-events: none; transition: opacity .5s; display: flex; align-items: center;}
    #notifyBanner.visible { opacity: 1; pointer-events: auto;}
    #notifyBanner button {margin-left: 2em; background: #2f62ff; color: white; border: none; border-radius: 9px; font-size: 1.05rem; padding: .45em 1.2em; cursor: pointer; font-weight: 700;}
    #notifyBanner button:hover { background: #355be8;}
    #userInfoBox { position: fixed; top: 90px; left: 28px; background: #f8fbff; border: 1px solid #6da8aa; border-radius: 13px; z-index: 99; padding: 1.1em; font-size: 1.03rem; color: #336677; min-width: 220px; box-shadow: 0 1px 12px #1b337822; display: none;}
    #fakeAdModal { display: none; position: fixed; top:0; left:0; width:100vw; height:100vh; background: rgba(20,30,42,0.4); z-index:200; justify-content:center; align-items:center;}
    #fakeAdModal.active { display: flex; }
    .modal-content { background: #fff; border-radius: 17px; min-width: 320px; min-height: 240px; padding: 2.3em; position: relative; display: flex; flex-direction: column; align-items: center;}
    .close-modal { position: absolute; top: 16px; right: 14px; width: 30px; height: 30px; background: #eef0f6; color: #3761e6; border: none; border-radius: 50%; font-size: 1.5rem; font-weight: bold; cursor: pointer;}
    .ad-title { font-size: 1.12rem; margin-bottom: .8em; color: #1843a8; font-weight: 700; }
    .ad-click-btn { background: #ffc980; color: #192e75; font-weight: 700; font-size: 1.07rem; border: none; border-radius: 8px; padding: .56em 2em; cursor: pointer; margin-top: 1.2em; }
  </style>
</head>
<body>
  <header>ç–‘ä¼¼ITã‚³ãƒ³ã‚µãƒ«æ ªå¼ä¼šç¤¾</header>
  <section class="hero">
    <h1>æ•™è‚²ç”¨ãƒ»ç–‘ä¼¼è©æ¬ºã‚µã‚¤ãƒˆãƒ‡ãƒ¢ï¼ˆé™å®šå…¬é–‹ï¼‰</h1>
    <div class="note">
      ğŸš¨ã“ã®ã‚µã‚¤ãƒˆã¯å®Ÿéš›ã®çŠ¯ç½ªè¡Œç‚ºã‚’åŠ©é•·ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>
      è©æ¬ºã‚µã‚¤ãƒˆã®æ‰‹å£ã‚’å­¦ã³ã€è¢«å®³é˜²æ­¢ãƒ»å•“ç™ºç›®çš„ã®ã¿ã§ã”åˆ©ç”¨ãã ã•ã„ã€‚<br>
      ã‚¯ãƒªãƒƒã‚¯ãƒ»è¨±å¯æ“ä½œã—ã¦ã‚‚æƒ…å ±ã¯ä¸€åˆ‡é€ä¿¡ãƒ»è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“ã€‚
    </div>
    <div class="company-info">
      <strong>ä¼šç¤¾æ¡ˆå†…</strong><br>
      å½“ç¤¾ã¯ITã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚<br>
      <ul>
        <li>æ‰€åœ¨åœ°: æ±äº¬éƒ½æ¸¯åŒºæ¶ç©º1-1-1</li>
        <li>äº‹æ¥­å†…å®¹: ITã‚·ã‚¹ãƒ†ãƒ ç®¡ç†</li>
      </ul>
    </div>
  </section>

  <!-- Chromeæœ¬ç‰©ã®æ¨©é™ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’å‡ºã™è¨±å¯ãƒãƒŠãƒ¼ -->
  <div id="notifyBanner">
    <span>FaceBook.comãŒæ¬¡ã®è¨±å¯ã‚’æ±‚ã‚ã¦ã„ã¾ã™: <br>
      <strong>é€šçŸ¥ã®è¡¨ç¤º</strong>ã€<strong>ä½ç½®æƒ…å ±</strong>ç­‰</span>
    <button id="notificationAllowBtn">è¨±å¯</button>
  </div>
  <div id="userInfoBox"></div>

  <!-- åºƒå‘Šãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="fakeAdModal">
    <div class="modal-content">
      <button class="close-modal" id="closeAd">&times;</button>
      <div class="ad-title">Chromeåºƒå‘Š: é©šãã®æ–°ã‚µãƒ¼ãƒ“ã‚¹!</div>
      <img src="https://placehold.jp/300x120.png?text=Ad" width="280" height="112" alt="åºƒå‘Šã‚¤ãƒ¡ãƒ¼ã‚¸">
      <button class="ad-click-btn" id="adDownloadBtn">ã‚‚ã£ã¨è¦‹ã‚‹ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰</button>
    </div>
  </div>

  <script>
    // 5ç§’å¾Œã«è¨±å¯ãƒãƒŠãƒ¼è¡¨ç¤º
    setTimeout(() => {
      document.getElementById('notifyBanner').classList.add('visible');
    }, 5000);

    document.getElementById('notificationAllowBtn').addEventListener('click', async () => {
      let infoHTML = `<b>å–å¾—ã§ããŸæƒ…å ±:</b><br>`;
      // é€šçŸ¥ã®Chromeæœ¬ç‰©ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
      let notifyPerm = '[é€šçŸ¥] å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“<br>';
      if ("Notification" in window) {
        try {
          const perm = await Notification.requestPermission();
          notifyPerm = `[é€šçŸ¥] æ¨©é™ï¼š<b>${perm}</b><br>`;
          if (perm === 'granted') {
            new Notification("é€šçŸ¥è¨±å¯ãŒæˆåŠŸã—ã¾ã—ãŸï¼ (æ•™è‚²ãƒ‡ãƒ¢)");
          }
        } catch { notifyPerm = '[é€šçŸ¥] æ¨©é™è¦æ±‚ã‚¨ãƒ©ãƒ¼<br>';}
      }
      infoHTML += notifyPerm;
      // ä½ç½®æƒ…å ±ã‚’Chromeæœ¬ç‰©ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
      if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(pos => {
          infoHTML += `[ä½ç½®æƒ…å ±]<br>
            ç·¯åº¦ï¼š<b>${pos.coords.latitude}</b><br>
            çµŒåº¦ï¼š<b>${pos.coords.longitude}</b><br>
            ç²¾åº¦ï¼š${pos.coords.accuracy}m<br>
          `;
          showInfoBox(infoHTML + getOtherInfo());
        }, err => {
          infoHTML += `[ä½ç½®æƒ…å ±] ã‚¨ãƒ©ãƒ¼ï¼š${err.message}<br>`;
          showInfoBox(infoHTML + getOtherInfo());
        });
      } else {
        infoHTML += "[ä½ç½®æƒ…å ±] å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“<br>";
        showInfoBox(infoHTML + getOtherInfo());
      }
      setTimeout(() => {document.getElementById('notifyBanner').classList.remove('visible');}, 900);
    });

    // è¿½åŠ æƒ…å ±
    function getOtherInfo() {
      let txt = "";
      txt += `<hr><b>ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ï¼ˆUserAgentï¼‰:</b><br>${navigator.userAgent}<br>`;
      txt += `<hr><b>OS/ãƒ–ãƒ©ã‚¦ã‚¶è¨€èª:</b><br>${navigator.language}<br>`;
      txt += `<hr><b>ç”»é¢ã‚µã‚¤ã‚º:</b><br>${window.screen.width} x ${window.screen.height}<br>`;
      txt += `<hr><b>ã€æ³¨æ„ã€‘å€‹äººæƒ…å ±ã¯ä¸€åˆ‡ã‚µãƒ¼ãƒãƒ¼é€ä¿¡ã—ã¾ã›ã‚“</b>`;
      return txt;
    }
    function showInfoBox(html) {
      const box = document.getElementById('userInfoBox');
      box.innerHTML = html;
      box.style.display = 'block';
    }

    // ã‚¯ãƒªãƒƒã‚¯ã§1/3ç¢ºç‡ã§åºƒå‘Šè¡¨ç¤ºï¼ˆåºƒå‘Šå‡ºã¦ãŸã‚‰ç„¡åŠ¹ï¼‰
    document.body.addEventListener('click', function(e) {
      if (document.getElementById('fakeAdModal').classList.contains('active')) return;
      if (e.target.closest && (e.target.closest('#notifyBanner') || e.target.closest('#userInfoBox'))) return;
      if (Math.random() < 0.333) {
        showAdModal();
      }
    });

    function showAdModal() {
      document.getElementById('fakeAdModal').classList.add('active');
    }
    document.getElementById('closeAd').onclick = function() {
      document.getElementById('fakeAdModal').classList.remove('active');
    };
    document.getElementById('adDownloadBtn').onclick = function() {
      const blob = new Blob([''], {type: 'text/plain'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = "æ•™è‚²ç”¨ç–‘ä¼¼è©æ¬ºã‚µã‚¤ãƒˆ.txt";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    };
  </script>
</body>
</html>
